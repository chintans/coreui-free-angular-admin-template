<c-row>
  <c-col xs="12">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h3>Actionable Marketplace</h3>
      <button cButton color="primary" (click)="toggleResourceModal()">
        <svg cIcon class="me-2" name="cilPlus"></svg>
        Add My Own Resource
      </button>
    </div>

    <c-row>
      @for (provider of providers; track provider.name) {
        <c-col md="4" class="mb-4">
          <c-card class="h-100">
            <c-card-body class="text-center">
              <c-avatar [src]="'./assets/images/avatars/' + provider.avatar" size="xl" class="mb-3"></c-avatar>
              <h5 class="card-title">{{ provider.name }}</h5>
              <p class="text-muted mb-2">{{ provider.type }}</p>
              <div class="mb-3">
                @for (skill of provider.skills; track skill) {
                  <c-badge color="info" class="me-1">{{ skill }}</c-badge>
                }
              </div>
              <div class="d-flex justify-content-center gap-3 mb-3">
                <div class="d-flex align-items-center">
                  <svg cIcon name="cilStar" class="text-warning me-1"></svg>
                  <strong>{{ provider.rating }}</strong>
                </div>
                <div class="d-flex align-items-center">
                  <svg cIcon name="cilDollar" class="text-success me-1"></svg>
                  <strong>{{ provider.rate }}</strong>
                </div>
              </div>
              <button cButton color="primary" variant="outline" class="w-100">Connect</button>
            </c-card-body>
          </c-card>
        </c-col>
      }
    </c-row>
  </c-col>
</c-row>

<c-modal [(visible)]="showResourceModal">
  <c-modal-header>
    <h5 cModalTitle>Add Manual Resource</h5>
    <button cButtonClose (click)="toggleResourceModal()"></button>
  </c-modal-header>
  <c-modal-body>
    <form [formGroup]="resourceForm">
      <div class="mb-3">
        <label cLabel>Full Name</label>
        <input cFormControl formControlName="fullName" placeholder="John Doe" />
      </div>
      <div class="mb-3">
        <label cLabel>Role / Title</label>
        <input cFormControl formControlName="role" placeholder="Marketing Manager" />
      </div>
      <div class="mb-3">
        <label cLabel>Company / Agency</label>
        <input cFormControl formControlName="company" placeholder="Optional" />
      </div>
      <div class="mb-3">
        <label cLabel>Email</label>
        <input cFormControl formControlName="email" placeholder="john@example.com" />
      </div>
    </form>
  </c-modal-body>
  <c-modal-footer>
    <button cButton color="secondary" (click)="toggleResourceModal()">Cancel</button>
    <button cButton color="primary" (click)="addResource()" [disabled]="resourceForm.invalid">Add Resource</button>
  </c-modal-footer>
</c-modal>
